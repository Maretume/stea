<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Attendance API</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <h1>Debug Attendance API</h1>
    <button id="testToday">Test Today Attendance</button>
    <button id="testRecent">Test Recent Attendance</button>
    <button id="testDebug">Test Debug Schedule</button>
    
    <div id="results" style="margin-top: 20px; padding: 20px; background: #f5f5f5; white-space: pre-wrap;"></div>

    <script>
        $('#testToday').click(function() {
            $('#results').text('Loading today attendance...');
            $.get('/attendance/today')
                .done(function(response) {
                    $('#results').text('SUCCESS:\n' + JSON.stringify(response, null, 2));
                })
                .fail(function(xhr, status, error) {
                    $('#results').text('ERROR:\n' + xhr.responseText + '\nStatus: ' + status + '\nError: ' + error);
                });
        });

        $('#testRecent').click(function() {
            $('#results').text('Loading recent attendance...');
            $.get('/attendance/recent')
                .done(function(response) {
                    $('#results').text('SUCCESS:\n' + JSON.stringify(response, null, 2));
                })
                .fail(function(xhr, status, error) {
                    $('#results').text('ERROR:\n' + xhr.responseText + '\nStatus: ' + status + '\nError: ' + error);
                });
        });

        $('#testDebug').click(function() {
            $('#results').text('Loading debug schedule...');
            $.get('/api/debug/schedule')
                .done(function(response) {
                    $('#results').text('SUCCESS:\n' + JSON.stringify(response, null, 2));
                })
                .fail(function(xhr, status, error) {
                    $('#results').text('ERROR:\n' + xhr.responseText + '\nStatus: ' + status + '\nError: ' + error);
                });
        });
    </script>
</body>
</html>
